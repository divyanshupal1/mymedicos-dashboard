"use client"
import React from 'react'

import { ModeToggle } from '../theme-toggle'
import Navigation from './Navigation'
import UserCard from './UserCard'
import {MdOutlineLogout} from 'react-icons/md'
import {useRouter} from "next/navigation";
import axios from 'axios'

function Sidebar() {
    const router = useRouter()
    const logout = async () => {
        try {
            await axios.get('/api/auth/logout')
            router.push('/login')
        } catch (error) {
            console.log(error.message);
        }
    }
  return (
    <div className='w-64 border-r h-screen flex flex-col gap-y-2 px-5'>
        <div className="logo py-4 mx-[-20px]"><Logo/></div>
        <div className="navigation flex flex-col gap-y-3 mt-5 ">
            <Navigation/>
        </div>
        <div className='align-bottom mt-auto mb-5 w-full flex justify-between gap-x-4'>
            <div className='p-1.5 px-4 gap-x-3 cursor-pointer rounded-lg flex items-center border flex-grow hover:bg-slate-400 hover:bg-opacity-10 ' onClick={logout}><MdOutlineLogout/> Logout</div>
            <ModeToggle/>
        </div>
    </div>
  )
}

export default Sidebar

function Logo(){
    return (
        <svg className='scale-75' width="163" height="27" viewBox="0 0 163 27" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12.5 0L23.3253 20.25H1.67468L12.5 0Z" fill="#2463EB"/>
            <path d="M38.3906 6H42.5625L46.9688 16.75H47.1563L51.5625 6H55.7344V22H52.4531V11.5859H52.3203L48.1797 21.9219H45.9453L41.8047 11.5469H41.6719V22H38.3906V6ZM60.5137 26.5C60.0918 26.5 59.696 26.4661 59.3262 26.3984C58.9616 26.3359 58.6595 26.2552 58.4199 26.1562L59.1699 23.6719C59.5605 23.7917 59.9121 23.8568 60.2246 23.8672C60.5423 23.8776 60.8158 23.8047 61.0449 23.6484C61.2793 23.4922 61.4694 23.2266 61.6152 22.8516L61.8105 22.3438L57.5059 10H61.0059L63.4902 18.8125H63.6152L66.123 10H69.6465L64.9824 23.2969C64.7585 23.9427 64.4538 24.5052 64.0684 24.9844C63.6882 25.4688 63.2064 25.8411 62.623 26.1016C62.0397 26.3672 61.3366 26.5 60.5137 26.5ZM71.4121 6H75.584L79.9902 16.75H80.1777L84.584 6H88.7559V22H85.4746V11.5859H85.3418L81.2012 21.9219H78.9668L74.8262 11.5469H74.6934V22H71.4121V6ZM96.9492 22.2344C95.7148 22.2344 94.6523 21.9844 93.7617 21.4844C92.8763 20.9792 92.194 20.2656 91.7148 19.3437C91.2357 18.4167 90.9961 17.3203 90.9961 16.0547C90.9961 14.8203 91.2357 13.737 91.7148 12.8047C92.194 11.8724 92.8685 11.1458 93.7383 10.625C94.6133 10.1042 95.6393 9.84375 96.8164 9.84375C97.6081 9.84375 98.3451 9.97135 99.0273 10.2266C99.7148 10.4766 100.314 10.8542 100.824 11.3594C101.34 11.8646 101.741 12.5 102.027 13.2656C102.314 14.026 102.457 14.9167 102.457 15.9375V16.8516H92.3242V14.7891H99.3242C99.3242 14.3099 99.2201 13.8854 99.0117 13.5156C98.8034 13.1458 98.5143 12.8568 98.1445 12.6484C97.7799 12.4349 97.3555 12.3281 96.8711 12.3281C96.3659 12.3281 95.918 12.4453 95.5273 12.6797C95.1419 12.9089 94.8398 13.2187 94.6211 13.6094C94.4023 13.9948 94.2904 14.4245 94.2852 14.8984V16.8594C94.2852 17.4531 94.3945 17.9661 94.6133 18.3984C94.8372 18.8307 95.1523 19.1641 95.5586 19.3984C95.9648 19.6328 96.4466 19.75 97.0039 19.75C97.3737 19.75 97.7122 19.6979 98.0195 19.5938C98.3268 19.4896 98.5898 19.3333 98.8086 19.125C99.0273 18.9167 99.194 18.6615 99.3086 18.3594L102.387 18.5625C102.23 19.3021 101.91 19.9479 101.426 20.5C100.947 21.0469 100.327 21.474 99.5664 21.7813C98.8112 22.0833 97.9388 22.2344 96.9492 22.2344ZM109.051 22.1953C108.139 22.1953 107.314 21.9609 106.574 21.4922C105.84 21.0182 105.257 20.3229 104.824 19.4062C104.397 18.4844 104.184 17.3542 104.184 16.0156C104.184 14.6406 104.405 13.4974 104.848 12.5859C105.29 11.6693 105.879 10.9844 106.613 10.5313C107.353 10.0729 108.163 9.84375 109.043 9.84375C109.715 9.84375 110.275 9.95833 110.723 10.1875C111.176 10.4115 111.54 10.6927 111.816 11.0312C112.098 11.3646 112.311 11.6927 112.457 12.0156H112.559V6H115.879V22H112.598V20.0781H112.457C112.301 20.4115 112.079 20.7422 111.793 21.0703C111.512 21.3932 111.145 21.6615 110.691 21.875C110.243 22.0885 109.697 22.1953 109.051 22.1953ZM110.105 19.5469C110.642 19.5469 111.095 19.401 111.465 19.1094C111.84 18.8125 112.126 18.3984 112.324 17.8672C112.527 17.3359 112.629 16.7135 112.629 16C112.629 15.2865 112.53 14.6667 112.332 14.1406C112.134 13.6146 111.848 13.2083 111.473 12.9219C111.098 12.6354 110.642 12.4922 110.105 12.4922C109.559 12.4922 109.098 12.6406 108.723 12.9375C108.348 13.2344 108.064 13.6458 107.871 14.1719C107.678 14.6979 107.582 15.3073 107.582 16C107.582 16.6979 107.678 17.3151 107.871 17.8516C108.069 18.3828 108.353 18.7995 108.723 19.1016C109.098 19.3984 109.559 19.5469 110.105 19.5469ZM118.615 22V10H121.943V22H118.615ZM120.287 8.45312C119.792 8.45312 119.368 8.28906 119.014 7.96094C118.665 7.6276 118.49 7.22917 118.49 6.76562C118.49 6.30729 118.665 5.91406 119.014 5.58594C119.368 5.2526 119.792 5.08594 120.287 5.08594C120.782 5.08594 121.204 5.2526 121.553 5.58594C121.907 5.91406 122.084 6.30729 122.084 6.76562C122.084 7.22917 121.907 7.6276 121.553 7.96094C121.204 8.28906 120.782 8.45312 120.287 8.45312ZM130.031 22.2344C128.802 22.2344 127.745 21.974 126.859 21.4531C125.979 20.9271 125.302 20.1979 124.828 19.2656C124.359 18.3333 124.125 17.2604 124.125 16.0469C124.125 14.8177 124.362 13.7396 124.836 12.8125C125.315 11.8802 125.995 11.1536 126.875 10.6328C127.755 10.1068 128.802 9.84375 130.016 9.84375C131.063 9.84375 131.979 10.0339 132.766 10.4141C133.552 10.7943 134.174 11.3281 134.633 12.0156C135.091 12.7031 135.344 13.5104 135.391 14.4375H132.25C132.161 13.8385 131.927 13.3568 131.547 12.9922C131.172 12.6224 130.68 12.4375 130.07 12.4375C129.555 12.4375 129.104 12.5781 128.719 12.8594C128.339 13.1354 128.042 13.5391 127.828 14.0703C127.615 14.6016 127.508 15.2448 127.508 16C127.508 16.7656 127.612 17.4167 127.82 17.9531C128.034 18.4896 128.333 18.8984 128.719 19.1797C129.104 19.4609 129.555 19.6016 130.07 19.6016C130.451 19.6016 130.792 19.5234 131.094 19.3672C131.401 19.2109 131.654 18.9844 131.852 18.6875C132.055 18.3854 132.188 18.0234 132.25 17.6016H135.391C135.339 18.5182 135.089 19.3255 134.641 20.0234C134.198 20.7161 133.586 21.2578 132.805 21.6484C132.023 22.0391 131.099 22.2344 130.031 22.2344ZM142.943 22.2344C141.73 22.2344 140.68 21.9766 139.795 21.4609C138.915 20.9401 138.235 20.2161 137.756 19.2891C137.277 18.3568 137.037 17.276 137.037 16.0469C137.037 14.8073 137.277 13.724 137.756 12.7969C138.235 11.8646 138.915 11.1406 139.795 10.625C140.68 10.1042 141.73 9.84375 142.943 9.84375C144.157 9.84375 145.204 10.1042 146.084 10.625C146.969 11.1406 147.652 11.8646 148.131 12.7969C148.61 13.724 148.85 14.8073 148.85 16.0469C148.85 17.276 148.61 18.3568 148.131 19.2891C147.652 20.2161 146.969 20.9401 146.084 21.4609C145.204 21.9766 144.157 22.2344 142.943 22.2344ZM142.959 19.6562C143.511 19.6562 143.972 19.5 144.342 19.1875C144.712 18.8698 144.99 18.4375 145.178 17.8906C145.37 17.3437 145.467 16.7214 145.467 16.0234C145.467 15.3255 145.37 14.7031 145.178 14.1562C144.99 13.6094 144.712 13.1771 144.342 12.8594C143.972 12.5417 143.511 12.3828 142.959 12.3828C142.402 12.3828 141.933 12.5417 141.553 12.8594C141.178 13.1771 140.894 13.6094 140.701 14.1562C140.514 14.7031 140.42 15.3255 140.42 16.0234C140.42 16.7214 140.514 17.3437 140.701 17.8906C140.894 18.4375 141.178 18.8698 141.553 19.1875C141.933 19.5 142.402 19.6562 142.959 19.6562ZM160.998 13.4219L157.951 13.6094C157.899 13.349 157.787 13.1146 157.615 12.9062C157.443 12.6927 157.217 12.5234 156.936 12.3984C156.66 12.2682 156.329 12.2031 155.943 12.2031C155.428 12.2031 154.993 12.3125 154.639 12.5312C154.285 12.7448 154.107 13.0312 154.107 13.3906C154.107 13.6771 154.222 13.9193 154.451 14.1172C154.68 14.3151 155.074 14.474 155.631 14.5937L157.803 15.0312C158.969 15.2708 159.839 15.6562 160.412 16.1875C160.985 16.7187 161.271 17.4167 161.271 18.2812C161.271 19.0677 161.04 19.7578 160.576 20.3516C160.118 20.9453 159.488 21.4089 158.686 21.7422C157.889 22.0703 156.969 22.2344 155.928 22.2344C154.339 22.2344 153.074 21.9036 152.131 21.2422C151.193 20.5755 150.644 19.6693 150.482 18.5234L153.756 18.3516C153.855 18.8359 154.094 19.2057 154.475 19.4609C154.855 19.7109 155.342 19.8359 155.936 19.8359C156.519 19.8359 156.988 19.724 157.342 19.5C157.701 19.2708 157.883 18.9766 157.889 18.6172C157.883 18.3151 157.756 18.0677 157.506 17.875C157.256 17.6771 156.87 17.526 156.35 17.4219L154.271 17.0078C153.1 16.7734 152.227 16.3672 151.654 15.7891C151.087 15.2109 150.803 14.474 150.803 13.5781C150.803 12.8073 151.011 12.1432 151.428 11.5859C151.85 11.0286 152.441 10.599 153.201 10.2969C153.967 9.99479 154.863 9.84375 155.889 9.84375C157.404 9.84375 158.597 10.1641 159.467 10.8047C160.342 11.4453 160.852 12.3177 160.998 13.4219Z" fill="black"/>
        </svg>
    )
}
